<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pannellum Viewer with Up and Down Arrows and Hotspots</title>

  <!-- Include Pannellum CSS -->
  <link rel="stylesheet" href="https://cdn.pannellum.org/2.5/pannellum.css"/>
  <script type="text/javascript" src="https://cdn.pannellum.org/2.5/pannellum.js"></script>

  <style>
    body, html {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
    }

    #panorama {
      width: 100%;
      height: 90%;
    }


    /* Styling for navigation arrows (up and down) */
    .arrow-button {
      position: absolute;
      z-index: 1000;
      background-color: rgba(0, 0, 0, 0.5);
      color: white;
      border: none;
      padding: 10px;
      cursor: pointer;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .arrow-button:hover {
      background-color: rgba(0, 0, 0, 0.7);
    }

    /* Styling for the up arrow */
    .arrow-up {
      top: 50%;
      left: 50%;
      
    }

    /* Styling for the down arrow */
    .arrow-down {
      bottom: 50%;
      left: 50%;
   
    }

    /* Resize the arrow images */
    .arrow-button img {
      width: 40px; /* Set the size of the arrow images */
      height: auto; /* Keep the aspect ratio */
    }

    /* Add space between the buttons */
    .arrow-up {
      margin-bottom: 20px; /* Space below the up arrow */
    }

    .arrow-down {
      margin-top: 20px; /* Space above the down arrow */
    }
  </style>
</head>
<body>

<!-- Panorama Viewer -->
<div id="panorama"></div>

<!-- Navigation Arrows -->
<button class="arrow-button arrow-up" onclick="loadScene('previous')"><img src="./static/img/360view/up-arrow.png" alt=""></button>
<button class="arrow-button arrow-down" onclick="loadScene('next')"><img src="./static/img/360view/down-arrow.png" alt=""></button>

<script>
  // Define your scenes in an array to make navigation easier
  var scenes = [
    {
      "id": "scene1",
      "title": "Scene 1",
      "panorama": "./static/img/360view/IMG_20250111_135921_00_005.jpg",  // Replace with your image path
      "hotSpots": [
        {
          "pitch": 10,
          "yaw": 50,
          "type": "info",
          "text": "This is Scene 1. It has a description for a hotspot."
        },
        {
          "pitch": 0,
          "yaw": 10,
          "type": "scene",
          "text": "Go to Scene 2",
          "sceneId": "scene2"
        }
      ]
    },
    {
      "id": "scene2",
      "title": "Scene 2",
      "panorama": "./static/img/360view/IMG_20250111_140323_00_006.jpg",  // Replace with your image path
      "hotSpots": [
        {
          "pitch": 10,
          "yaw": 50,
          "type": "info",
          "text": "This is Scene 2 with more hotspots."
        },
        {
          "pitch": 0,
          "yaw": 10,
          "type": "scene",
          "text": "Go to Scene 3",
          "sceneId": "scene3"
        }
      ]
    },
    {
      "id": "scene3",
      "title": "Scene 3",
      "panorama": "./static/img/360view/IMG_20250111_140550_00_007.jpg",  // Replace with your image path
      "hotSpots": [
        {
          "pitch": 10,
          "yaw": 50,
          "type": "info",
          "text": "This is Scene 3. Another hotspot with description."
        },
        {
          "pitch": 0,
          "yaw": 10,
          "type": "scene",
          "text": "Go to Scene 4",
          "sceneId": "scene4"
        }
      ]
    },
    {
      "id": "scene4",
      "title": "Scene 4",
      "panorama": "./static/img/360view/IMG_20250111_140942_00_008.jpg",  // Replace with your image path
      "hotSpots": [
        {
          "pitch": 10,
          "yaw": 50,
          "type": "info",
          "text": "This is Scene 4 with a description of the hotspot."
        },
        {
          "pitch": 0,
          "yaw": 10,
          "type": "scene",
          "text": "Go to Scene 1",
          "sceneId": "scene1"
        }
      ]
    }
  ];

  // Initialize Pannellum viewer
  var viewer = pannellum.viewer('panorama', {
    "default": {
      "firstScene": scenes[0].id,  // Default scene to load
      "sceneFadeDuration": 1000,
      "autoLoad": true
    },
    "scenes": scenes.reduce(function(acc, scene) {
      acc[scene.id] = {
        "title": scene.title,
        "hfov": 100,
        "pitch": 10,
        "yaw": 50,
        "compass": true,
        "northOffset": 289,
        "type": "equirectangular",
        "panorama": scene.panorama,
        "hotSpots": scene.hotSpots
      };
      return acc;
    }, {})
  });

  // Variable to track the current scene index
  var currentSceneIndex = 0;

  // Function to load the next or previous scene based on the argument
  function loadScene(direction) {
    if (direction === 'next') {
      currentSceneIndex = (currentSceneIndex + 1) % scenes.length;  // Go to the next scene
    } else if (direction === 'previous') {
      currentSceneIndex = (currentSceneIndex - 1 + scenes.length) % scenes.length;  // Go to the previous scene
    }
    
    var newSceneId = scenes[currentSceneIndex].id;
    viewer.loadScene(newSceneId);  // Load the selected scene
  }
</script>

</body>
</html>
